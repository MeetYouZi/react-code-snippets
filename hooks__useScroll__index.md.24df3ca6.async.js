(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"0Owb":function(e,t,n){"use strict";function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a.apply(this,arguments)}n.d(t,"a",(function(){return a}))},"77nG":function(e,t,n){"use strict";n.r(t);var a=n("tJVT"),l=n("q1tI"),r=e=>"function"===typeof e,c=e=>{var t=Object(l["useState"])({x:0,y:0}),n=Object(a["a"])(t,2),c=n[0],s=n[1],o=Object(l["useRef"])();return Object(l["useEffect"])(()=>{var t=o.current?o.current:window,n=()=>{var e;return e=t===window?{x:window.pageXOffset,y:window.pageYOffset}:{x:t.scrollLeft,y:t.scrollTop},s(e),e},a=()=>{var t=n();r(e)&&e(t)};return t&&t.addEventListener("scroll",a,{passive:!0}),()=>{t&&t.removeEventListener("scroll",a)}},[o.current]),[c,o]};t["default"]=c},BsWD:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("a3WO");function l(e,t){if(e){if("string"===typeof e)return Object(a["a"])(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(a["a"])(e,t):void 0}}},ODXe:function(e,t,n){"use strict";function a(e){if(Array.isArray(e))return e}function l(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,l=!1,r=void 0;try{for(var c,s=e[Symbol.iterator]();!(a=(c=s.next()).done);a=!0)if(n.push(c.value),t&&n.length===t)break}catch(o){l=!0,r=o}finally{try{a||null==s["return"]||s["return"]()}finally{if(l)throw r}}return n}}n.r(t),n.d(t,"default",(function(){return s}));var r=n("BsWD");function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return a(e)||l(e,t)||Object(r["a"])(e,t)||c()}},TqRt:function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}e.exports=n},a3WO:function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,"a",(function(){return a}))},raow:function(e,t,n){"use strict";n.r(t);var a=n("0Owb"),l=n("q1tI"),r=n.n(l),c=(n("B2uJ"),n("+su7"),n("5Yjd")),s=n.n(c),o=r.a.memo((function(){var e=n("TqRt"),t=e(n("ODXe")),a=e(n("q1tI")),l=e(n("77nG")),r=function(){var e=(0,l["default"])(),n=(0,t["default"])(e,2),r=n[0],c=r.x,s=r.y,o=n[1];return a["default"].createElement(a["default"].Fragment,null,a["default"].createElement("div",null,"\u5f53\u524d scrollLeft : ",c),a["default"].createElement("div",null,"\u5f53\u524d scrollTop : ",s),a["default"].createElement("div",{ref:o,style:{height:"25vh",overflow:"auto"}},a["default"].createElement("div",{style:{width:"500vw",height:"500vh"}},"\u8fd9\u662f\u4e00\u4e2a\u6eda\u52a8\u7ec4\u4ef6")))};return a["default"].createElement(r)})),u=r.a.memo((function(){var e=n("TqRt"),t=e(n("ODXe")),a=e(n("q1tI")),l=e(n("77nG")),r=function(){var e=(0,l["default"])((function(e){var t=e.x,n=e.y;console.log("window",t,n)})),n=(0,t["default"])(e,1),r=n[0],c=r.x,s=r.y;return a["default"].createElement(a["default"].Fragment,null,a["default"].createElement("div",null,"\u5f53\u524d\u7a97\u53e3\u7684 scrollLeft : ",c),a["default"].createElement("div",null,"\u5f53\u524d\u7a97\u53e3\u7684 scrollTop : ",s))};return a["default"].createElement(r)}));t["default"]=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h1",{id:"usescroll"},r.a.createElement("a",{"aria-hidden":"true",href:"#usescroll"},r.a.createElement("span",{className:"icon icon-link"})),"useScroll"),r.a.createElement("p",null,"\u7528\u4e8e\u76d1\u542c\u7a97\u4f53\u6216\u7ec4\u4ef6\u6eda\u52a8\u7684 ",r.a.createElement("code",null,"Hook")),r.a.createElement("h2",{id:"\u793a\u4f8b"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u793a\u4f8b"},r.a.createElement("span",{className:"icon icon-link"})),"\u793a\u4f8b")),r.a.createElement(s.a,Object(a["a"])({source:{jsx:"import React from 'react'\nimport useScroll from './useScroll'\n\nexport default () => {\n  const [{ x, y }, ref] = useScroll()\n\n  return (\n    <>\n      <div>\u5f53\u524d scrollLeft : {x}</div>\n      <div>\u5f53\u524d scrollTop : {y}</div>\n      <div ref={ref} style={{ height: '25vh', overflow: 'auto' }}>\n        <div style={{ width: '500vw', height: '500vh' }}>\u8fd9\u662f\u4e00\u4e2a\u6eda\u52a8\u7ec4\u4ef6</div>\n      </div>\n    </>\n  )\n}"}},{title:"\u7ec4\u4ef6\u6eda\u52a8 demo",dependencies:{"@babel/runtime":"7.9.2"},files:{"useScroll.js":{path:"./useScroll",content:"import { useState, useEffect, useRef } from 'react'\n\n// \u6eda\u52a8\n\nconst isFunction = f => typeof f === 'function'\n\nconst useScroll = callback => {\n  const [state, setState] = useState({ x: 0, y: 0 })\n  const ref = useRef()\n\n  useEffect(() => {\n    // \u83b7\u53d6\u7ed1\u5b9a\u6eda\u52a8 dom\n    const element = ref.current ? ref.current : window\n    const updateState = () => {\n      let newState\n      if (element === window) {\n        newState = {\n          x: window.pageXOffset,\n          y: window.pageYOffset\n        }\n      } else {\n        newState = {\n          x: element.scrollLeft,\n          y: element.scrollTop\n        }\n      }\n      setState(newState)\n      return newState\n    }\n    const scrollFn = () => {\n      const newState = updateState()\n      isFunction(callback) && callback(newState)\n    }\n    if (element) {\n      element.addEventListener('scroll', scrollFn, { passive: true })\n    }\n    return () => {\n      if (element) {\n        element.removeEventListener('scroll', scrollFn)\n      }\n    }\n  }, [ref.current])\n  return [state, ref]\n}\n\nexport default useScroll\n"}}}),r.a.createElement(o,null)),r.a.createElement("div",{className:"markdown"}),r.a.createElement(s.a,Object(a["a"])({source:{jsx:"import React from 'react'\nimport useScroll from './useScroll'\n\nexport default () => {\n  const [{ x, y }] = useScroll(({ x, y }) => {\n    console.log('window', x, y)\n  })\n\n  return (\n    <>\n      <div>\u5f53\u524d\u7a97\u53e3\u7684 scrollLeft : {x}</div>\n      <div>\u5f53\u524d\u7a97\u53e3\u7684 scrollTop : {y}</div>\n    </>\n  )\n}"}},{title:"\u7a97\u4f53\u6eda\u52a8 demo",dependencies:{"@babel/runtime":"7.9.2"},files:{"useScroll.js":{path:"./useScroll",content:"import { useState, useEffect, useRef } from 'react'\n\n// \u6eda\u52a8\n\nconst isFunction = f => typeof f === 'function'\n\nconst useScroll = callback => {\n  const [state, setState] = useState({ x: 0, y: 0 })\n  const ref = useRef()\n\n  useEffect(() => {\n    // \u83b7\u53d6\u7ed1\u5b9a\u6eda\u52a8 dom\n    const element = ref.current ? ref.current : window\n    const updateState = () => {\n      let newState\n      if (element === window) {\n        newState = {\n          x: window.pageXOffset,\n          y: window.pageYOffset\n        }\n      } else {\n        newState = {\n          x: element.scrollLeft,\n          y: element.scrollTop\n        }\n      }\n      setState(newState)\n      return newState\n    }\n    const scrollFn = () => {\n      const newState = updateState()\n      isFunction(callback) && callback(newState)\n    }\n    if (element) {\n      element.addEventListener('scroll', scrollFn, { passive: true })\n    }\n    return () => {\n      if (element) {\n        element.removeEventListener('scroll', scrollFn)\n      }\n    }\n  }, [ref.current])\n  return [state, ref]\n}\n\nexport default useScroll\n"}}}),r.a.createElement(u,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"api"},r.a.createElement("a",{"aria-hidden":"true",href:"#api"},r.a.createElement("span",{className:"icon icon-link"})),"API"),r.a.createElement("pre",{className:"language-js"},r.a.createElement("code",{className:"language-js"},r.a.createElement("span",{className:"token function"},"useScroll"),r.a.createElement("span",{className:"token punctuation"},"("),r.a.createElement("span",{className:"token function-variable function"},"fn"),r.a.createElement("span",{className:"token punctuation"},":")," ",r.a.createElement("span",{className:"token punctuation"},"("),r.a.createElement("span",{className:"token parameter"},r.a.createElement("span",{className:"token punctuation"},"{")," x",r.a.createElement("span",{className:"token punctuation"},",")," y ",r.a.createElement("span",{className:"token punctuation"},"}")),r.a.createElement("span",{className:"token punctuation"},")")," ",r.a.createElement("span",{className:"token arrow operator"},"=>")," ",r.a.createElement("span",{className:"token punctuation"},"{"),r.a.createElement("span",{className:"token punctuation"},"}"),r.a.createElement("span",{className:"token punctuation"},")"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{className:"token keyword"},"const")," ",r.a.createElement("span",{className:"token punctuation"},"["),r.a.createElement("span",{className:"token punctuation"},"{")," x",r.a.createElement("span",{className:"token punctuation"},",")," y ",r.a.createElement("span",{className:"token punctuation"},"}"),r.a.createElement("span",{className:"token punctuation"},"]")," ",r.a.createElement("span",{className:"token operator"},"=")," ",r.a.createElement("span",{className:"token function"},"useScroll"),r.a.createElement("span",{className:"token punctuation"},"("),"fn",r.a.createElement("span",{className:"token punctuation"},")"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{className:"token keyword"},"const")," ",r.a.createElement("span",{className:"token punctuation"},"["),r.a.createElement("span",{className:"token punctuation"},"{")," x",r.a.createElement("span",{className:"token punctuation"},",")," y ",r.a.createElement("span",{className:"token punctuation"},"}"),r.a.createElement("span",{className:"token punctuation"},",")," ref",r.a.createElement("span",{className:"token punctuation"},"]")," ",r.a.createElement("span",{className:"token operator"},"=")," ",r.a.createElement("span",{className:"token function"},"useScroll"),r.a.createElement("span",{className:"token punctuation"},"("),"fn",r.a.createElement("span",{className:"token punctuation"},")"),r.a.createElement("br",null))),r.a.createElement("h3",{id:"result"},r.a.createElement("a",{"aria-hidden":"true",href:"#result"},r.a.createElement("span",{className:"icon icon-link"})),"Result"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u53c2\u6570"),r.a.createElement("th",null,"\u4f5c\u7528"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"{"," x, y ","}"),r.a.createElement("td",null,"\u6eda\u52a8\u5bb9\u5668\u5f53\u524d\u7684\u6eda\u52a8\u4f4d\u7f6e")),r.a.createElement("tr",null,r.a.createElement("td",null,"ref"),r.a.createElement("td",null,"\u9700\u8981\u76d1\u542c\u6eda\u52a8\u4e8b\u4ef6\u7684 ",r.a.createElement("code",null,"dom")," \u5143\u7d20")))),r.a.createElement("h3",{id:"params"},r.a.createElement("a",{"aria-hidden":"true",href:"#params"},r.a.createElement("span",{className:"icon icon-link"})),"Params"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u53c2\u6570"),r.a.createElement("th",null,"\u4f5c\u7528"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"fn"),r.a.createElement("td",null,"\u6eda\u52a8\u89e6\u53d1\u540e\u7684\u56de\u8c03\uff0c\u4f1a\u4f20\u5165\u5f53\u524d\u7684\u6eda\u52a8\u4f4d\u7f6e"))))))}}}]);